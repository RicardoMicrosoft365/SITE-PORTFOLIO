(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[13858],{366284:(e,t,i)=>{i.d(t,{G6:()=>r,i7:()=>o,oi:()=>s,u$:()=>n,un:()=>u,vU:()=>a});const s=Object.freeze({OTHER:0,CHROME:1,SAFARI:2,IE:3,FIREFOX:4,OPERA:5,EDGE:6}),n=e=>{switch(!0){case e.includes("Chrome"):return s.CHROME;case e.includes("Safari"):return s.SAFARI;case e.includes("Firefox"):return s.FIREFOX;case e.includes("Opera"):return s.OPERA;case e.includes("IE"):return s.IE;case e.includes("Edge"):return s.EDGE;default:return s.OTHER}};function r(e){return n(e)===s.SAFARI}function o(e){return n(e)===s.CHROME}function a(e){return n(e)===s.FIREFOX}function u(e){return n(e)===s.EDGE}},834911:(e,t,i)=>{i.d(t,{Z:()=>r});var s=i(835209),n=i(341732);function r({carouselData:e,images:t,richMetadata:i,richSummary:r,shouldUnifyImageSizes:o,additionalImages:a}){const u=(0,s.Z)({richPinData:i||r});return u&&a&&a.length>0?(0,n.Z)(null,a,e&&e.index,o,u.id):u&&u.additional_images&&u.additional_images.length>0?(0,n.Z)(t,u.additional_images,e&&e.index,o,u.id):e||void 0}},341732:(e,t,i)=>{i.d(t,{Z:()=>r});const s=["236x","474x","564x","736x"];function n(e){function t(e,{imageKey:t,height:i,width:s}){return e.images&&e.images[t]&&(e={...e,images:{...e.images,[t]:{...e.images[t],height:i,width:s}}}),e}const i=s.map((function(t){const i=Math.min(...e.map((e=>e.images&&e.images[t]&&e.images[t].height||1/0))),s=Math.min(...e.map((e=>e.images&&e.images[t]&&e.images[t].width||1/0)));return{imageKey:t,height:i,width:s}}));return e.map((e=>i.reduce(t,e)))}function r(e,t,i,s,r){const o=(null==t?void 0:t.map((({canonical_images:e,image_signature:t})=>({images:e||void 0,image_signature:t||void 0}))))||[],a=e?[{images:e},...o]:o;return{carousel_slots:s?n(a):a,index:i||0,id:r}}},722767:(e,t,i)=>{i.d(t,{Z:()=>a});var s=i(667294),n=i(973935);function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class o extends s.Component{constructor(...e){super(...e),r(this,"observer",null),r(this,"handleVisibilityChanged",((e,t)=>{this.props.onVisibilityChange(e,t)}))}componentDidMount(){const e=n.findDOMNode(this);e instanceof HTMLElement&&(this.node=e),this.node&&(this.observer=new window.IntersectionObserver(this.handleVisibilityChanged,this.props.options),this.observer.observe(this.node))}componentWillUnmount(){this.observer&&(this.observer.unobserve(this.node),delete this.observer)}render(){return s.Children.only(this.props.children)}}const a=o},366428:(e,t,i)=>{i.d(t,{F:()=>c,Z:()=>p});var s=i(667294),n=i(983722),r=i(834911),o=i(124580),a=i(407043),u=i(802201);const d={ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},OneBar:{impressionType:"oneBarImpressions",idType:"onebarIdStr",eventType:9975},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpressions",idType:"storyIdStr",eventType:170},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704}};function p({closeupImpressionType:e,closeupNavigationType:t,componentType:i,contextLogData:p,clientTrackingParams:c,elementType:l,impressionAuxFields:h,inImpressionExp:m,impressionType:y,impressionsFramework:g,isPaused:b,loggingId:v,objectIdStr:T,slotIndex:I,trackCarousel:E,viewData:_,viewParameter:O,viewType:f}){const{logContextEvent:w}=(0,a.v)(),S=(0,u.AF)(),A=v?S[v]:{},x=A&&(0,r.Z)({carouselData:A.carousel_data,images:A.images,richMetadata:A.rich_metadata,richSummary:A.rich_summary}),C=g||o.Z,P=(0,s.useRef)(null),V=s=>{const r=d[y],o=r.idType,a={endTime:s.endTime,[o]:v,slotIndex:I,time:s.startTime,renderDuration:s.endTime-s.startTime,type:e,...h,forcedExit:"removed"===s.forcedExit?0:void 0},u={component:i,object_id_str:T,view_type:f,view_data:_||{},view_parameter:O},m=(0,n.Z)(),{checkExperiment:g}=(m||{}).experimentsClient||{},b="function"==typeof g&&g("web_mweb_story_impression_fix").anyEnabled;if(b&&(d.Story={impressionType:"storyImpression",idType:"idStr",eventType:170}),E){if(x){var S,A,C;w({event_type:7352,event_data:{pinCarouselSlotImpressions:[{...a,carouselDataId:Number(x.id),carouselSlotId:(null===(S=x.carousel_slots)||void 0===S?void 0:S[null!==(A=x.index)&&void 0!==A?A:0])&&Number(x.carousel_slots[null!==(C=x.index)&&void 0!==C?C:0].id),slotIndex:x.index}]},...u,aux_data:{...p}})}}else w({clientTrackingParams:c,event_type:r.eventType,...u,element:l,event_data:{[r.impressionType]:"Story"===y&&b?a:[a]},aux_data:{closeup_navigation_type:t,...p}})},R=(0,s.useCallback)((()=>{try{P.current instanceof HTMLElement&&C.start(P.current).onExitViewport(V).setDebugId(v||"unknown")}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}}),[P.current]);(0,s.useEffect)((()=>(m&&!C.inExperiment&&C.setExperimentStatus(!0),b||R(),()=>{P.current instanceof HTMLElement&&C.stop(P.current)})),[R]);const D=(0,s.useRef)(b);return(0,s.useEffect)((()=>{D.current&&!b&&R(),D.current=b}),[b,R]),P}const c=({children:e,...t})=>e({impressionTrackerRef:p(t)})},12610:(e,t,i)=>{function s(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}i.d(t,{Z3:()=>l,LU:()=>h,ZP:()=>m});const n=1e6,r=window.location.search.includes("debug_impressions=1")||document.cookie&&document.cookie.indexOf("debug_impressions=1")>-1,o={paused:"Pause",resumed:"Resume",stopped:"Flush",enter:"Enter viewport",exit:"Exit viewport"},a={},u={background:"#FF8A8A",transform:"scale(.98)"},d={init:e=>({transform:`scale(${a[e]?.8:.99})`,transition:"transform .2s ease-in-out",background:"#8E8E8E"}),[o.enter]:{background:"#A0DCC8",transform:"scale(.99)"},[o.exit]:u,[o.stopped]:u,[o.paused]:u,[o.resumed]:{background:"#0FA573",transform:"scale(.99)"}};class p{constructor(e){s(this,"setMutationObserver",(e=>(this.mutationObserver=e,this))),s(this,"startMutationObserver",(e=>{this.mutationObserver&&this.mutationObserver.observe(this.node,e)})),s(this,"stopMutationObserver",(()=>{this.mutationObserver&&this.mutationObserver.disconnect()})),s(this,"handleIntersectionChange",(e=>{const t=e.intersectionRatio>0||e.isIntersecting;if(t&&!this.inViewport){const e=Date.now();this.startTime=e,this._debug(o.enter,{startTime:e,node:this.node}),this.enterCallbacks.forEach((e=>e()))}else!t&&this.inViewport&&(this._debug(o.exit,!0),this.exitCallbacks.forEach((e=>e(this.toJSON()))));this.inViewport=t})),this.enterCallbacks=[],this.exitCallbacks=[],this.inViewport=!1,this.node=e,this.startTime=0,this.debugId=""}onEnterViewport(e){return this.enterCallbacks.push(e),this}onExitViewport(e){return this.exitCallbacks.push(e),this}setDebugId(e){return this.debugId=e,r&&Object.assign(this.node.style,d.init(e)),this}pause(){return this.inViewport&&(this._debug(o.paused,!0),this.exitCallbacks.forEach((e=>e(this.toJSON())))),this}resume(){if(this.inViewport){const e=Date.now();this._debug(o.resumed,{startTime:e}),this.startTime=e}return this}stop(e){return this.inViewport&&(this._debug(o.stopped,!0),this.exitCallbacks.forEach((t=>t(this.toJSON(e))))),this}toJSON(e=""){return{startTime:this.startTime*n,endTime:Date.now()*n,forcedExit:e}}toDebugJSON(){return{pinID:this.debugId,startTime:this.startTime,endTime:Date.now(),duration:(Date.now()-this.startTime)/1e3+" seconds"}}_debug(e,t){if(r)switch(window.console.log(`ðŸ“Œ ${e} -- ${this.debugId}`),!0===t&&window.console.log(this.toDebugJSON()),"object"==typeof t&&window.console.log(t),d[e]&&Object.assign(this.node.style,d[e]),e){case o.flushed:case o.paused:case o.exit:a[this.debugId]=!0}}}function c(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const l=!0,h=!1;class m{constructor(){c(this,"_delegateChange",(e=>{e.forEach((e=>{const t=this.activeImpressions.get(e.target);t&&t.handleIntersectionChange(e)}))})),c(this,"_handleMutations",((e,t)=>{const i=this.mutationObservers.get(t);i&&i.offsetHeight<1&&i&&this.stop(i,"removed")})),this.activeImpressions=new Map,this.mutationObservers=new Map,this.bottomHeight=0,this.bottomObstructions=new Set,this.pausePriority=h,this.observer=new window.IntersectionObserver(this._delegateChange),this.paused=!1,this.topHeight=0,this.topObstructions=new Set,this.inExperiment=!1}setExperimentStatus(e){this.inExperiment!==e&&(this.inExperiment=e)}stop(e,t=""){const i=this.activeImpressions.get(e);i&&(i.stop(t),this.mutationObservers.delete(i.mutationObserver),i.stopMutationObserver(),this.activeImpressions.delete(e),this.observer.unobserve(e))}start(e){let t=this.activeImpressions.get(e);if(!t){t=new p(e),this.activeImpressions.set(e,t),this.observer.observe(e);const i=(e,t)=>this._handleMutations(e,t);t.setMutationObserver(new window.MutationObserver(i)),this.mutationObservers.set(t.mutationObserver,e),t.startMutationObserver({subtree:!0,attributes:!0,attributeFilter:["style"]})}return t}pause(e=l){this.paused||(Array.from(this.activeImpressions.values()).forEach((e=>e.pause())),this.paused=!0,this.pausePriority===h&&(this.pausePriority=e))}resume(e=l){e===h&&this.pausePriority===l||this.paused&&(Array.from(this.activeImpressions.values()).forEach((e=>e.resume())),this.paused=!1,this.pausePriority=h)}addObstruction(e,t){"top"===e?this.topObstructions.add(t):"bottom"===e&&this.bottomObstructions.add(t),this._calculateRootMargins()}removeObstruction(e,t){"top"===e?this.topObstructions.delete(t):"bottom"===e&&this.bottomObstructions.delete(t),this._calculateRootMargins()}updateObstructions(){this._calculateRootMargins()}_calculateRootMargins(){const e=Array.from(this.topObstructions).reduce(((e,t)=>{const{bottom:i}=t.getBoundingClientRect();return i>e?i:e}),0),t=window.innerHeight-Array.from(this.bottomObstructions).reduce(((e,t)=>{const{top:i}=t.getBoundingClientRect();return i<e?i:e}),window.innerHeight);if(e!==this.topHeight||t!==this.bottomHeight){const i={rootMargin:`${-e}px 0px ${-t}px`};this.observer.disconnect(),this.observer=new window.IntersectionObserver(this._delegateChange,i),Array.from(this.activeImpressions.values()).forEach((e=>this.observer.observe(e.node))),this.topHeight=e,this.bottomHeight=t}}}},124580:(e,t,i)=>{i.d(t,{Z:()=>s});const s=new(i(12610).ZP)},835209:(e,t,i)=>{function s({richPinData:e={}}){return((null==e?void 0:e.products)||[])[0]}i.d(t,{Z:()=>s})},494349:(e,t,i)=>{i.d(t,{g:()=>h,I:()=>l});var s=i(667294),n=i(567450),r=i(150361),o=i.n(r);const a={appInFocus:!0,footerPlusButtonVisible:!0,isAutoplay:!1,showTypeaheadOverlay:!1,videosAutoplaying:{currentlyPlayingOrganicVideoId:null,organicVideosAutoplaying:{},promotedVideosAutoplaying:{}},viewportSize:"lg"},u=(e=a,t)=>{if("TOGGLE_TYPEAHEAD_OVERLAY"===t.type)return{...e,showTypeaheadOverlay:t.payload};if("SET_CURRENT_VIDEO"===t.type){const{payload:i}=t,{pinId:s,isPromoted:n,currentTime:r,inVideoGridAutoplayExp:a}=i,{videosAutoplaying:u}=e,{currentlyPlayingOrganicVideoId:d,promotedVideosAutoplaying:p,organicVideosAutoplaying:c}=u,l=o()(p),h=o()(c);return!n&&d&&a?e:(n?l[s]={pinId:s,currentTime:r,paused:!1}:h[s]={pinId:s,currentTime:r,paused:!1},{...e,videosAutoplaying:{currentlyPlayingOrganicVideoId:n?d:s,promotedVideosAutoplaying:l,organicVideosAutoplaying:h}})}if("SET_IS_AUTOPLAY"===t.type)return{...e,isAutoplay:t.payload};if("PAUSE_CURRENT_VIDEO"===t.type){const{payload:i}=t,{pinId:s,isPromoted:n,currentTime:r}=i,{videosAutoplaying:a}=e,{promotedVideosAutoplaying:u,organicVideosAutoplaying:d}=a,p=o()(u),c=o()(d);return n?p[s]={...p[s],paused:!0,currentTime:r}:c[s]={...c[s],paused:!0,currentTime:r},{...e,videosAutoplaying:{currentlyPlayingOrganicVideoId:null,promotedVideosAutoplaying:p,organicVideosAutoplaying:c}}}return"SET_APP_FOCUS_STATE"===t.type?{...e,appInFocus:t.payload}:"SET_VIEWPORT_SIZE"===t.type?{...e,viewportSize:t.payload}:"SET_FOOTER_VISIBILITY_STATE"===t.type?{...e,footerPlusButtonVisible:t.payload}:e};var d=i(425288),p=i(785893);const{Provider:c,useHook:l}=(0,d.Z)("AppUI");function h({children:e}){const[t,i]=(0,s.useReducer)(u,a),r=(0,s.useCallback)((e=>i({type:"PAUSE_CURRENT_VIDEO",payload:e})),[]),o=(0,s.useCallback)((e=>i({type:"SET_APP_FOCUS_STATE",payload:e})),[]),d=(0,s.useCallback)((e=>i({type:"SET_CURRENT_VIDEO",payload:e})),[]),l=(0,s.useCallback)((e=>i({type:"SET_FOOTER_VISIBILITY_STATE",payload:e})),[]),h=(0,s.useCallback)((e=>i({type:"SET_IS_AUTOPLAY",payload:e})),[]),m=(0,s.useCallback)((e=>i({type:"SET_VIEWPORT_SIZE",payload:e})),[]),y=(0,s.useCallback)((e=>i({type:"TOGGLE_TYPEAHEAD_OVERLAY",payload:e})),[]),g=(0,s.useMemo)((()=>({pauseAutoplay:r,setCurrentVideo:d,setFooterPlusButtonVisible:l,setIsAutoplay:h,setViewportSize:m,toggleTypeaheadOverlay:y,setAppFocusState:o,appUI:t})),[r,d,l,h,m,y,o,t]);return(0,s.useEffect)((()=>{n.Z.onSessionResume((()=>{o(!0)})).onSessionPause((()=>{o(!1)}))}),[o]),(0,p.jsx)(c,{value:g,children:e})}},802201:(e,t,i)=>{i.d(t,{AF:()=>a,H0:()=>u,S6:()=>d,_S:()=>p});var s=i(702664),n=i(425288),r=i(785893);const{Provider:o,useHook:a,useMaybeHook:u}=(0,n.Z)("Pins");function d(){const e=a();return t=>e[t]}function p({children:e}){const t=(0,s.useSelector)((({pins:e})=>e),s.shallowEqual);return(0,r.jsx)(o,{value:t,children:e})}},154391:(e,t,i)=>{i.d(t,{H:()=>r,o:()=>n});var s=i(425288);const{Provider:n,useHook:r}=(0,s.Z)("LimitedLogin")}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/13858-f6134efde6b4764b.mjs.map